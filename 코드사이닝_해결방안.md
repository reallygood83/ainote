# ë°°ì›€ì˜ ë‹¬ì¸ ì½”ë“œ ì‚¬ì´ë‹ í•´ê²° ë°©ì•ˆ ğŸ“

## ğŸ¯ í˜„ì¬ ìƒí™©

**ë¬¸ì œ**: macOS ì•± ì‹¤í–‰ ì‹œ Rust ë„¤ì´í‹°ë¸Œ ëª¨ë“ˆ(`rust_png`) ë•Œë¬¸ì— í¬ë˜ì‹œ ë°œìƒ
- ì›ì¸: ì„œëª…ë˜ì§€ ì•Šì€(unsigned) ë„¤ì´í‹°ë¸Œ ë°”ì´ë„ˆë¦¬
- ì¦ìƒ: `EXC_BREAKPOINT (SIGTRAP)` ì—ëŸ¬
- ì˜í–¥: macOS ì‚¬ìš©ìê°€ ì•±ì„ ë°”ë¡œ ì‹¤í–‰í•  ìˆ˜ ì—†ìŒ

---

## ğŸ’¡ 3ê°€ì§€ í•´ê²° ë°©ì•ˆ

### ë°©ì•ˆ 1: Apple Developer ê³„ì •ìœ¼ë¡œ ì •ì‹ ì„œëª… (ê¶Œì¥) â­

#### ğŸ“‹ ì¤€ë¹„ ì‚¬í•­
1. **Apple Developer Program ê°€ì…** ($99/ë…„)
   - ì›¹ì‚¬ì´íŠ¸: https://developer.apple.com/programs/
   - ê°œì¸ ë˜ëŠ” ì¡°ì§ ê³„ì • ì„ íƒ
   - ì‹ ì²­ í›„ ìŠ¹ì¸ê¹Œì§€ 1-2ì¼ ì†Œìš”

2. **Developer ID Application ì¸ì¦ì„œ ë°œê¸‰**
   - Xcode ë˜ëŠ” Apple Developer Portalì—ì„œ ë°œê¸‰
   - Macì— ì„¤ì¹˜í•˜ë©´ ìë™ìœ¼ë¡œ Keychainì— ë“±ë¡

#### ğŸ”§ êµ¬í˜„ ë°©ë²•

1ï¸âƒ£ **electron-builder ì„¤ì • ì—…ë°ì´íŠ¸**

`app/build/electron-builder-config.js` íŒŒì¼ ìˆ˜ì •:

```javascript
module.exports = {
  appId: "com.kimmonjung.learningmaster",
  productName: "ë°°ì›€ì˜ ë‹¬ì¸",

  // ì½”ë“œ ì‚¬ì´ë‹ ì„¤ì • ì¶”ê°€
  mac: {
    target: ["dmg", "zip"],
    arch: ["arm64"],
    category: "public.app-category.education",

    // âœ… ì½”ë“œ ì‚¬ì´ë‹ í™œì„±í™”
    identity: "Developer ID Application: ê¹€ë¬¸ì • (TEAM_ID)",
    hardenedRuntime: true,
    gatekeeperAssess: false,
    entitlements: "build/entitlements.mac.plist",
    entitlementsInherit: "build/entitlements.mac.plist",

    // ê³µì¦(Notarization) ì„¤ì •
    notarize: {
      teamId: "YOUR_TEAM_ID"
    }
  }
};
```

2ï¸âƒ£ **Entitlements íŒŒì¼ ìƒì„±**

`app/build/entitlements.mac.plist` ìƒì„±:

```xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <!-- Hardened Runtime í•„ìˆ˜ ê¶Œí•œ -->
    <key>com.apple.security.cs.allow-unsigned-executable-memory</key>
    <true/>
    <key>com.apple.security.cs.disable-library-validation</key>
    <true/>

    <!-- JIT ì»´íŒŒì¼ í—ˆìš© (V8 ì—”ì§„) -->
    <key>com.apple.security.cs.allow-jit</key>
    <true/>

    <!-- ë„¤íŠ¸ì›Œí¬ ì ‘ê·¼ -->
    <key>com.apple.security.network.client</key>
    <true/>
    <key>com.apple.security.network.server</key>
    <true/>
</dict>
</plist>
```

3ï¸âƒ£ **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**

`.env` íŒŒì¼ ë˜ëŠ” CI/CDì— ì¶”ê°€:

```bash
# Apple ID (ê³µì¦ìš©)
APPLE_ID=your-email@example.com
APPLE_APP_SPECIFIC_PASSWORD=xxxx-xxxx-xxxx-xxxx

# Team ID (Developer Portalì—ì„œ í™•ì¸)
APPLE_TEAM_ID=XXXXXXXXXX
```

4ï¸âƒ£ **ë¹Œë“œ ë° ê³µì¦**

```bash
# ì„œëª… + ê³µì¦ ìë™ ìˆ˜í–‰
cd /Users/moon/Desktop/surf-main/app
npm run build:mac:arm
```

#### âœ… ì¥ì 
- âœ¨ ì™„ë²½í•œ í•´ê²°: ì‚¬ìš©ìê°€ ë°”ë¡œ ì‹¤í–‰ ê°€ëŠ¥
- ğŸ”’ ë³´ì•ˆ: Appleì˜ ê³µì‹ ê²€ì¦ í†µê³¼
- ğŸ“± ë°°í¬: Mac App Store ë“±ë¡ ê°€ëŠ¥
- ğŸ¯ ì‹ ë¢°ë„: "í™•ì¸ëœ ê°œë°œì" í‘œì‹œ

#### âŒ ë‹¨ì 
- ğŸ’° ë¹„ìš©: $99/ë…„
- â° ì‹œê°„: ê³„ì • ìŠ¹ì¸ 1-2ì¼ + ì¸ì¦ì„œ ë°œê¸‰ 1ì‹œê°„
- ğŸ“š ë³µì¡ë„: ì„¤ì • ê³¼ì •ì´ ë‹¤ì†Œ ë³µì¡

---

### ë°©ì•ˆ 2: Self-Signed ì¸ì¦ì„œë¡œ ì„ì‹œ ì„œëª… (ì¤‘ê°„ í•´ë²•) ğŸ”§

Apple Developer ê³„ì • ì—†ì´ ìì²´ ì„œëª… ì¸ì¦ì„œ ì‚¬ìš©

#### ğŸ”§ êµ¬í˜„ ë°©ë²•

1ï¸âƒ£ **Self-Signed ì¸ì¦ì„œ ìƒì„±**

```bash
# ì¸ì¦ì„œ ìƒì„± (Keychain Accessì—ì„œë„ ê°€ëŠ¥)
security create-keychain -p "password" build.keychain
security default-keychain -s build.keychain
security unlock-keychain -p "password" build.keychain

# ì½”ë“œ ì‚¬ì´ë‹ ì¸ì¦ì„œ ìƒì„±
security add-certificate -k build.keychain cert.p12 -P "cert_password"
```

2ï¸âƒ£ **electron-builder ì„¤ì •**

```javascript
mac: {
  identity: null, // ìë™ íƒì§€
  hardenedRuntime: false, // Self-signedëŠ” hardened ë¹„í™œì„±í™”
}
```

3ï¸âƒ£ **ë¹Œë“œ í›„ ìˆ˜ë™ ì„œëª…**

```bash
# ë¹Œë“œ
npm run build:mac:arm

# ì•± ë²ˆë“¤ ì„œëª…
codesign --force --deep --sign "Your Self-Signed Identity" \
  "dist/ë°°ì›€ì˜ ë‹¬ì¸.app"

# ë„¤ì´í‹°ë¸Œ ëª¨ë“ˆ ì„œëª…
find "dist/ë°°ì›€ì˜ ë‹¬ì¸.app" -name "*.node" -exec \
  codesign --force --sign "Your Self-Signed Identity" {} \;
```

#### âœ… ì¥ì 
- ğŸ’° ë¬´ë£Œ
- âš¡ ë¹ ë¥¸ êµ¬í˜„
- ğŸ”§ ê°œë°œ/í…ŒìŠ¤íŠ¸ìš©ìœ¼ë¡œ ì í•©

#### âŒ ë‹¨ì 
- âš ï¸ ì—¬ì „íˆ ë³´ì•ˆ ê²½ê³  ë°œìƒ
- âŒ ê³µì¦ ë¶ˆê°€ëŠ¥
- ğŸš« Mac App Store ë°°í¬ ë¶ˆê°€
- ğŸ‘¥ ì‚¬ìš©ìëŠ” ì—¬ì „íˆ ìˆ˜ë™ í—ˆìš© í•„ìš”

---

### ë°©ì•ˆ 3: ì‚¬ìš©ì ê°€ì´ë“œ ê°œì„  (í˜„ì‹¤ì  ì„ì‹œ ë°©ì•ˆ) ğŸ“š

ì½”ë“œ ì‚¬ì´ë‹ ì—†ì´ ì‚¬ìš©ì ê²½í—˜ ê°œì„ 

#### ğŸ”§ êµ¬í˜„ ë°©ë²•

1ï¸âƒ£ **ìë™ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ ì œê³µ**

`fix-app.sh` ìƒì„± ë° ë°°í¬:

```bash
#!/bin/bash
# ë°°ì›€ì˜ ë‹¬ì¸ ì‹¤í–‰ ìˆ˜ì • ìŠ¤í¬ë¦½íŠ¸

APP_PATH="/Applications/ë°°ì›€ì˜ ë‹¬ì¸.app"

echo "ğŸ”§ ë°°ì›€ì˜ ë‹¬ì¸ ì‹¤í–‰ ê¶Œí•œ ì„¤ì • ì¤‘..."

# ê²©ë¦¬ ì†ì„± ì œê±°
sudo xattr -cr "$APP_PATH"

# ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬
sudo chmod -R +x "$APP_PATH/Contents/MacOS/"

# Rust ë„¤ì´í‹°ë¸Œ ëª¨ë“ˆ ê¶Œí•œ ìˆ˜ì •
find "$APP_PATH" -name "*.node" -exec sudo chmod +x {} \;

echo "âœ… ì™„ë£Œ! ì´ì œ ì•±ì„ ì‹¤í–‰í•´ë³´ì„¸ìš”."
```

2ï¸âƒ£ **ê°œì„ ëœ README ì‘ì„±**

```markdown
## ğŸš€ macOS ë¹ ë¥¸ ì‹¤í–‰ ê°€ì´ë“œ

### ë°©ë²• 1: ìë™ ìŠ¤í¬ë¦½íŠ¸ (ê¶Œì¥)
1. [fix-app.sh ë‹¤ìš´ë¡œë“œ](ë§í¬)
2. í„°ë¯¸ë„ì—ì„œ ì‹¤í–‰:
   ```bash
   chmod +x fix-app.sh
   ./fix-app.sh
   ```

### ë°©ë²• 2: ìˆ˜ë™ ì„¤ì •
1. í„°ë¯¸ë„ ì—´ê¸°
2. ë‹¤ìŒ ëª…ë ¹ì–´ ë³µì‚¬ & ë¶™ì—¬ë„£ê¸°:
   ```bash
   sudo xattr -cr "/Applications/ë°°ì›€ì˜ ë‹¬ì¸.app"
   ```
3. ë¹„ë°€ë²ˆí˜¸ ì…ë ¥
4. ì•± ì‹¤í–‰
```

3ï¸âƒ£ **DMGì— ìŠ¤í¬ë¦½íŠ¸ í¬í•¨**

electron-builder ì„¤ì •ì— ì¶”ê°€:

```javascript
mac: {
  dmg: {
    contents: [
      { x: 110, y: 150, type: "file" },
      { x: 440, y: 150, type: "link", path: "/Applications" },
      { x: 275, y: 300, type: "file", path: "fix-app.sh" }
    ]
  }
}
```

#### âœ… ì¥ì 
- ğŸ’° ì™„ì „ ë¬´ë£Œ
- âš¡ ì¦‰ì‹œ ì ìš© ê°€ëŠ¥
- ğŸ¯ ì‚¬ìš©ì ê²½í—˜ ê°œì„ 
- ğŸ“¦ ìŠ¤í¬ë¦½íŠ¸ ìë™í™”

#### âŒ ë‹¨ì 
- ğŸ‘¤ ì—¬ì „íˆ ì‚¬ìš©ì ì•¡ì…˜ í•„ìš”
- ğŸ” ë³´ì•ˆ ê²½ê³ ëŠ” ê³„ì† í‘œì‹œ
- ğŸ“± Mac App Store ë¶ˆê°€ëŠ¥

---

## ğŸ¯ ê¶Œì¥ ë¡œë“œë§µ

### ë‹¨ê¸° (ì§€ê¸ˆ ë‹¹ì¥)
âœ… **ë°©ì•ˆ 3 êµ¬í˜„**: ìë™ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ ì œê³µ
- fix-app.sh ìƒì„± ë° GitHub ë¦´ë¦¬ì¦ˆì— ì¶”ê°€
- READMEì™€ ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸ ê°œì„ 
- ì‚¬ìš©ì ê°€ì´ë“œ ì˜ìƒ ì œì‘ (ì„ íƒ)

### ì¤‘ê¸° (1ì£¼ì¼ ë‚´)
ğŸ”„ **Apple Developer ê³„ì • ì‹ ì²­**
- $99 ê²°ì œ ë° ê³„ì • ìƒì„±
- Developer ID ì¸ì¦ì„œ ë°œê¸‰ ëŒ€ê¸°

### ì¥ê¸° (ê³„ì • ìŠ¹ì¸ í›„)
â­ **ë°©ì•ˆ 1 êµ¬í˜„**: ì •ì‹ ì½”ë“œ ì‚¬ì´ë‹
- electron-builder ì„¤ì • ì—…ë°ì´íŠ¸
- ê³µì¦(Notarization) ì ìš©
- v1.0.1 ì¬ë°°í¬

---

## ğŸ“Š ë¹„êµí‘œ

| ë°©ì•ˆ | ë¹„ìš© | ì‹œê°„ | ì‚¬ìš©ì ê²½í—˜ | ë°°í¬ ê°€ëŠ¥ì„± | ì¶”ì²œë„ |
|------|------|------|------------|-----------|--------|
| ë°©ì•ˆ 1: ì •ì‹ ì„œëª… | $99/ë…„ | 2-3ì¼ | â­â­â­â­â­ | Mac App Store ê°€ëŠ¥ | â­â­â­â­â­ |
| ë°©ì•ˆ 2: Self-Signed | ë¬´ë£Œ | 1ì‹œê°„ | â­â­ | GitHubë§Œ ê°€ëŠ¥ | â­â­ |
| ë°©ì•ˆ 3: ê°€ì´ë“œ ê°œì„  | ë¬´ë£Œ | 30ë¶„ | â­â­â­ | GitHubë§Œ ê°€ëŠ¥ | â­â­â­â­ (ì„ì‹œ) |

---

## ğŸš€ ì¦‰ì‹œ ì‹¤í–‰ ê°€ëŠ¥í•œ ì•¡ì…˜

ë°”ë¡œ ì§€ê¸ˆ í•  ìˆ˜ ìˆëŠ” ê²ƒ:

1. âœ… **fix-app.sh ìŠ¤í¬ë¦½íŠ¸ ìƒì„±**
2. âœ… **GitHub ë¦´ë¦¬ì¦ˆì— ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€**
3. âœ… **README ì—…ë°ì´íŠ¸**
4. ğŸ”„ **Apple Developer ê³„ì • ì‹ ì²­ ì‹œì‘**

---

**ì‘ì„±ì¼**: 2025-10-28
**ì‘ì„±ì**: Claude (SuperClaude Framework)
